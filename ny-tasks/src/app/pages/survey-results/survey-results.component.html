<div class="background">
    <div class="title">
        <a style="text-decoration-line: none;" href="surveys">
            <h1 class="title-text"><i class="pi pi-arrow-right"></i> {{surveyName}}</h1>
        </a>
        <h4 class="sumSurveys h4-regular">{{sum}} שאלות</h4>
        
    </div>
    <div class="div-collapse">
            <button [disabled]="collapsed" class="button-collapse" (click)="openAllTabs()">הרחב הכל<i class="pi pi-angle-up up"></i><i class="pi pi-angle-down down"></i></button>
            <button [disabled]="!collapsed" class="button-collapse" (click)="closeAllTabs()">צמצם הכל<i class="pi pi-angle-up up-close"></i><i class="pi pi-angle-down down-close"></i></button>
        </div>
    <div class="cover">
        
        <p-accordion class="accordion" [multiple]="true" [expandIcon]="expandIcon" [collapseIcon]="collapseIcon">

            <p-accordionTab [selected]="collapsed" class="acc-line" *ngFor="let r of result.lQuestions"
                header="{{r.nvQuestionText}}">
                <div *ngFor="let student of result.lResultsForSurveyStudent">
                    <div *ngIf="student.lAnswers != null">
                        <div class="answer" *ngFor="let answer of student.lAnswers">
                            <div class="std-details">
                            <div class="std-name h4-medium" *ngIf="answer.iQuestionId == r.iQuestionId">{{student.nvFullName}}</div>
                            <div class="branch-name" *ngIf="answer.iQuestionId == r.iQuestionId">{{student.nvBranchName}}</div>
                            </div>
                            <div class="std-ans h4-regular" *ngIf="answer.iQuestionId == r.iQuestionId">{{answer.nvAnswer}}</div>
                        </div>
                    </div>
                </div>
            </p-accordionTab>
        </p-accordion>
        <!-- <p-paginator [rows]="1" [totalRecords]="result.lQuestions.length" (onPageChange)="onPageChange($event)" > </p-paginator> -->
        <!-- .slice(first,first+1) -->
    </div>

</div>